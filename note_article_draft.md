# AIè¶…è§£åƒãƒ„ãƒ¼ãƒ«Upscaylã®åŒ»ç™‚ç”»åƒæ€§èƒ½è©•ä¾¡ - 3ãƒ¢ãƒ‡ãƒ« Ã— 100æžšã®å®šé‡åˆ†æž

**â€»å€‹äººã®è¶£å‘³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚ç ”ç©¶ã§ã¯ãªãã€ãŸã ã®è©•ä¾¡ã§ã™ã€‚**

## ã¯ã˜ã‚ã«

AIè¶…è§£åƒæŠ€è¡“ã¯è¿‘å¹´æ€¥é€Ÿã«ç™ºå±•ã—ã¦ã„ã¾ã™ãŒã€åŒ»ç™‚ç”»åƒã«é©ç”¨ã—ãŸå ´åˆã®å®‰å…¨æ€§ãƒ»å“è³ªè©•ä¾¡ã¯ååˆ†ã«è¡Œã‚ã‚Œã¦ã„ã¾ã›ã‚“ã€‚æœ¬è¨˜äº‹ã§ã¯ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹AIè¶…è§£åƒãƒ„ãƒ¼ãƒ«ã€Œ**Upscayl**ã€ã®3ç¨®é¡žã®ãƒ¢ãƒ‡ãƒ«ã‚’ã€**NIH ChestX-ray14ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ**ã®èƒ¸éƒ¨Xç·šç”»åƒ100æžšã«é©ç”¨ã—ã€**17ç¨®é¡žã®ç”»è³ªè©•ä¾¡æŒ‡æ¨™**ã§å®šé‡çš„ã«åˆ†æžã—ãŸçµæžœã‚’å ±å‘Šã—ã¾ã™ã€‚

### æ¤œè¨¼ã®èƒŒæ™¯

- **ãªãœåŒ»ç™‚ç”»åƒï¼Ÿ** åŒ»ç™‚ç”»åƒã§ã¯ã€Œè¦‹ãŸç›®ã®ç¶ºéº—ã•ã€ã‚ˆã‚Šã€Œæƒ…å ±ã®æ­£ç¢ºæ€§ã€ãŒé‡è¦ã€‚AIãŒå­˜åœ¨ã—ãªã„æ§‹é€ ã‚’è¿½åŠ ã™ã‚‹ã€Œãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ã¯è‡´å‘½çš„ã€‚
- **ãªãœUpscaylï¼Ÿ** å®Œå…¨ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã€GUIæ“ä½œå¯èƒ½ã€è¤‡æ•°ãƒ¢ãƒ‡ãƒ«æ­è¼‰ã€å•†ç”¨åˆ©ç”¨å¯èƒ½
- **ãªãœå®šé‡è©•ä¾¡ï¼Ÿ** ç›®è¦–ã ã‘ã§ã¯è¦‹é€ƒã™åŠ£åŒ–ã‚„ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚’ã€17ç¨®é¡žã®æŒ‡æ¨™ã§å®¢è¦³çš„ã«æ¤œè¨¼

### å…è²¬äº‹é …

- æœ¬è©•ä¾¡ã¯å€‹äººã®è¶£å‘³ã¨ã—ã¦å®Ÿæ–½ã—ãŸã‚‚ã®ã§ã‚ã‚Šã€å­¦è¡“ç ”ç©¶ã§ã¯ã‚ã‚Šã¾ã›ã‚“
- 100æžšã®ã‚µãƒ³ãƒ—ãƒ«ã¯**å‚¾å‘æŠŠæ¡ã«ã¯ååˆ†**ã§ã™ãŒã€**åŒ»ç™‚ç¾å ´ã§ã®å®Ÿç”¨åˆ¤æ–­ã«ã¯ä¸ååˆ†**ã§ã™
- è©•ä¾¡ãƒ„ãƒ¼ãƒ«ã¯ç‹¬è‡ªé–‹ç™ºã®ãŸã‚ã€æ¸¬å®šèª¤å·®ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
- **åŒ»ç™‚ç”»åƒã®è¨ºæ–­ãƒ»æ²»ç™‚ã¸ã®ä½¿ç”¨ã¯æƒ³å®šã—ã¦ã„ã¾ã›ã‚“**

---

## æ¤œè¨¼å†…å®¹

### ä½¿ç”¨ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ
- **NIH ChestX-ray14**: 112,120æžšã®èƒ¸éƒ¨Xç·šç”»åƒã‚’å«ã‚€å…¬é–‹ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ
- **æ¤œè¨¼å¯¾è±¡**: ãƒ©ãƒ³ãƒ€ãƒ æŠ½å‡º100æžšï¼ˆã™ã¹ã¦512Ã—512pxä»¥ä¸‹ã®ä½Žè§£åƒåº¦ç”»åƒï¼‰

### è©•ä¾¡å¯¾è±¡ãƒ¢ãƒ‡ãƒ«
Upscaylã«æ­è¼‰ã•ã‚Œã¦ã„ã‚‹3ç¨®é¡žã®ãƒ¢ãƒ‡ãƒ«ã‚’æ¯”è¼ƒï¼š

| ãƒ¢ãƒ‡ãƒ«å | èª¬æ˜Ž |
|---------|------|
| **model1** | Standard (æ±Žç”¨ãƒ¢ãƒ‡ãƒ«) |
| **model2** | Digital Art (ã‚¤ãƒ©ã‚¹ãƒˆç‰¹åŒ–) |
| **model3** | High Fidelity (é«˜å¿ å®Ÿåº¦) |

### è©•ä¾¡æŒ‡æ¨™ï¼ˆå…¨17ç¨®é¡žï¼‰

#### **æ§‹é€ é¡žä¼¼æ€§ãƒ»çŸ¥è¦šå“è³ªï¼ˆ4æŒ‡æ¨™ï¼‰**
1. **SSIM** (Structural Similarity Index): æ§‹é€ é¡žä¼¼åº¦ï¼ˆ0-1ã€é«˜ã„ã»ã©è‰¯ã„ï¼‰
2. **MS-SSIM** (Multi-Scale SSIM): ãƒžãƒ«ãƒã‚¹ã‚±ãƒ¼ãƒ«æ§‹é€ é¡žä¼¼åº¦ï¼ˆ0-1ã€é«˜ã„ã»ã©è‰¯ã„ï¼‰
3. **PSNR** (Peak Signal-to-Noise Ratio): ãƒ”ãƒ¼ã‚¯ä¿¡å·å¯¾é›‘éŸ³æ¯”ï¼ˆdBã€é«˜ã„ã»ã©è‰¯ã„ï¼‰
4. **LPIPS** (Learned Perceptual Image Patch Similarity): çŸ¥è¦šçš„é¡žä¼¼åº¦ï¼ˆ0-1ã€ä½Žã„ã»ã©è‰¯ã„ï¼‰

#### **é®®æ˜Žåº¦ãƒ»ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆï¼ˆ3æŒ‡æ¨™ï¼‰**
5. **Sharpness**: ã‚¨ãƒƒã‚¸é®®æ˜Žåº¦ï¼ˆLaplacianåˆ†æ•£ã€é«˜ã„ã»ã©è‰¯ã„ï¼‰
6. **Contrast**: ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆï¼ˆæ¨™æº–åå·®ã€é«˜ã„ã»ã©è‰¯ã„ï¼‰
7. **Entropy**: ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ï¼ˆæƒ…å ±é‡ã€é«˜ã„ã»ã©è‰¯ã„ï¼‰

#### **ãƒŽã‚¤ã‚ºãƒ»ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆï¼ˆ3æŒ‡æ¨™ï¼‰**
8. **Noise Level**: ãƒŽã‚¤ã‚ºãƒ¬ãƒ™ãƒ«ï¼ˆå±€æ‰€æ¨™æº–åå·®ã€ä½Žã„ã»ã©è‰¯ã„ï¼‰
9. **Edge Density**: ã‚¨ãƒƒã‚¸å¯†åº¦ï¼ˆ%ã€é©åº¦ãªå€¤ãŒè‰¯ã„ï¼‰
10. **Artifacts**: ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆæ¤œå‡ºï¼ˆé«˜å‘¨æ³¢ç•°å¸¸ã€ä½Žã„ã»ã©è‰¯ã„ï¼‰

#### **è‰²ãƒ»ãƒ†ã‚¯ã‚¹ãƒãƒ£ï¼ˆ4æŒ‡æ¨™ï¼‰**
11. **Î”E (Color Difference)**: LABè‰²ç©ºé–“ã§ã®è‰²å·®ï¼ˆä½Žã„ã»ã©è‰¯ã„ï¼‰
12. **High-Freq Ratio**: é«˜å‘¨æ³¢æˆåˆ†æ¯”çŽ‡ï¼ˆ%ï¼‰
13. **Texture Complexity**: ãƒ†ã‚¯ã‚¹ãƒãƒ£è¤‡é›‘åº¦
14. **Histogram Correlation**: ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ç›¸é–¢ï¼ˆ0-1ã€é«˜ã„ã»ã©è‰¯ã„ï¼‰

#### **å±€æ‰€å“è³ªï¼ˆ2æŒ‡æ¨™ï¼‰**
15. **Local Quality (Mean)**: å±€æ‰€å“è³ªå¹³å‡ï¼ˆ0-1ã€é«˜ã„ã»ã©è‰¯ã„ï¼‰
16. **LAB Brightness**: LABè‰²ç©ºé–“ã§ã®æ˜Žåº¦

#### **ç·åˆè©•ä¾¡**
17. **Total Score**: ç·åˆã‚¹ã‚³ã‚¢ï¼ˆ0-100ã€é«˜ã„ã»ã©è‰¯ã„ï¼‰

---

## çµæžœæ¦‚è¦

### ãƒ¢ãƒ‡ãƒ«æ¯”è¼ƒï¼ˆ100æžšå¹³å‡ï¼‰

| æŒ‡æ¨™ | model1 (æ±Žç”¨) | model2 (ã‚¤ãƒ©ã‚¹ãƒˆ) | model3 (é«˜å¿ å®Ÿ) |
|------|---------------|------------------|----------------|
| **SSIM** | 0.952 | 0.889 | 0.988 |
| **PSNR (dB)** | 32.4 | 28.1 | 41.5 |
| **LPIPS** | 0.142 | 0.283 | 0.088 |
| **ã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹** | 184 | 120 | 312 |
| **ãƒŽã‚¤ã‚ºãƒ¬ãƒ™ãƒ«** | 0.052 | 0.038 | 0.071 |
| **ã‚¨ãƒƒã‚¸å¯†åº¦ (%)** | 0.58 | 0.39 | 0.87 |
| **ç·åˆã‚¹ã‚³ã‚¢** | 71.2 | 58.3 | 78.9 |
| **ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³** | **9ä»¶ (9%)** | 0ä»¶ | 0ä»¶ |

### é‡è¦ãªç™ºè¦‹

#### âœ… **model3 (High Fidelity) ãŒæ•°å€¤çš„ã«ã¯æœ€é«˜æ€§èƒ½**
- PSNR 41.5dBï¼ˆmodel1ã‚ˆã‚Š+9.1dBï¼‰
- SSIM 0.988ï¼ˆã»ã¼å®Œç’§ãªæ§‹é€ ä¿æŒï¼‰
- ç·åˆã‚¹ã‚³ã‚¢ 78.9ç‚¹

#### âš ï¸ **ã—ã‹ã—ã€ŒãƒŽã‚¤ã‚ºã€ã®è§£é‡ˆã«æ³¨æ„ãŒå¿…è¦**
- model3ã¯ãƒŽã‚¤ã‚ºãƒ¬ãƒ™ãƒ«0.071ã§æœ€ã‚‚é«˜ã„
- **ãŸã ã—ã€ã“ã‚Œã¯ã€Œãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ã§ã¯ãªãã€Œé«˜å‘¨æ³¢æˆåˆ†ã®å¢—åŠ ã€**
- **å¯èƒ½æ€§1**: AIãŒä¸è¦ãªãƒŽã‚¤ã‚ºã‚’è¿½åŠ ï¼ˆæ‚ªã„ï¼‰
- **å¯èƒ½æ€§2**: é«˜è§£åƒåº¦åŒ–ã«ã‚ˆã‚Šå¾®ç´°æ§‹é€ ãŒæ­£ç¢ºã«å¯è¦–åŒ–ã•ã‚ŒãŸï¼ˆè‰¯ã„ï¼‰
- **â†’ å°‚é–€å®¶ã®ç›®è¦–è©•ä¾¡ãŒå¿…é ˆ**

#### ðŸš¨ **model1 (Standard) ã«ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³9ä»¶æ¤œå‡º**
- SSIMé«˜ï¼ˆ0.97+ï¼‰Ã— PSNRä½Žï¼ˆ25dBä»¥ä¸‹ï¼‰ã®çŸ›ç›¾ãƒ‘ã‚¿ãƒ¼ãƒ³
- ã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹é«˜ Ã— ãƒŽã‚¤ã‚ºé«˜ã®çŸ›ç›¾ãƒ‘ã‚¿ãƒ¼ãƒ³
- **åŒ»ç™‚ç”»åƒã«ã¯ä½¿ç”¨ãƒªã‚¹ã‚¯ã‚ã‚Š**

#### âœ… **model2 (Digital Art) ã¯æœ€ã‚‚å®‰å…¨ã ãŒä½Žå“è³ª**
- ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³0ä»¶ï¼ˆæœ€ã‚‚å®‰å…¨ï¼‰
- PSNR 28.1dBï¼ˆæœ€ä½Žï¼‰
- ã¼ã‚„ã‘ãŸä»•ä¸ŠãŒã‚Š

---

## è©³ç´°åˆ†æžï¼ˆä¸»è¦ãƒ—ãƒ­ãƒƒãƒˆ5é¸ï¼‰

### 1. ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³æ¤œå‡ºãƒ—ãƒ­ãƒƒãƒˆ
![ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³æ¤œå‡º](analysis_output/hallucination_ssim_high_psnr_low.png)

**SSIMé«˜ï¼ˆæ§‹é€ é¡žä¼¼ï¼‰ Ã— PSNRä½Žï¼ˆãƒŽã‚¤ã‚ºå¤šã„ï¼‰ã®çŸ›ç›¾**ã‚’æ¤œå‡ºã€‚model1ã§9ä»¶ã®ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ç–‘ã„ã‚’ç™ºè¦‹ã€‚

---

### 2. æˆ¦ç•¥ãƒžãƒƒãƒ—ï¼ˆã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹ vs PSNRï¼‰
![æˆ¦ç•¥ãƒžãƒƒãƒ—](analysis_output/strategy_map_sharpness_vs_psnr.png)

**ç†æƒ³çš„ãªä½ç½®**: å³ä¸Šï¼ˆé«˜PSNR Ã— é«˜ã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹ï¼‰
- model3: å³ä¸Šã«é›†ä¸­ï¼ˆç†æƒ³çš„ï¼‰
- model1: ä¸­å¤®ï¼ˆå¦¥å”çš„ï¼‰
- model2: å·¦ä¸‹ï¼ˆä½Žå“è³ªï¼‰

---

### 3. ä¸»æˆåˆ†åˆ†æžï¼ˆPCAï¼‰- ãƒ¢ãƒ‡ãƒ«ç‰¹æ€§ã®å¯è¦–åŒ–
![PCA 2DæŠ•å½±](analysis_output/pca_2d_projection.png)

17æ¬¡å…ƒã®è©•ä¾¡æŒ‡æ¨™ã‚’2æ¬¡å…ƒã«åœ§ç¸®ï¼ˆç´¯ç©å¯„ä¸ŽçŽ‡52.6%ï¼‰ã€‚**3ãƒ¢ãƒ‡ãƒ«ã®ç‰¹æ€§ãŒæ˜Žç¢ºã«åˆ†é›¢**ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã‚‹ã€‚

---

### 4. åŒ»ç™‚ç”»åƒå“è³ª: ãƒŽã‚¤ã‚º vs å±€æ‰€çš„ååœ¨æ€§
![ãƒŽã‚¤ã‚º vs å±€æ‰€æ¨™æº–åå·®](analysis_output/medical_noise_vs_local_std.png)

- **model2 (ã‚ªãƒ¬ãƒ³ã‚¸)**: å·¦ä¸Šã«é›†ä¸­ï¼ˆé«˜ãƒŽã‚¤ã‚º Ã— å‡ä¸€ï¼‰â†’ å…¨ä½“çš„ã«ã¼ã‚„ã‘ã¦ã„ã‚‹
- **model3 (ç·‘)**: å³ä¸‹ã«é›†ä¸­ï¼ˆä½ŽãƒŽã‚¤ã‚º Ã— ååœ¨ï¼‰â†’ å¾®ç´°æ§‹é€ ãŒæ˜Žçž­
- **model1 (é’)**: ä¸­é–“

---

### 5. åŒ»ç™‚ç”»åƒå“è³ª: ã‚¨ãƒƒã‚¸ä¿æŒ vs å±€æ‰€å“è³ª
![ã‚¨ãƒƒã‚¸ä¿æŒ vs å±€æ‰€å“è³ª](analysis_output/medical_edge_vs_local_quality.png)

- **model3 (ç·‘)**: å³ä¸Šã«é›†ä¸­ï¼ˆé«˜ã‚¨ãƒƒã‚¸ Ã— é«˜å“è³ªï¼‰
- **model2 (ã‚ªãƒ¬ãƒ³ã‚¸)**: å·¦ä¸‹ã«åˆ†æ•£ï¼ˆä½Žã‚¨ãƒƒã‚¸ Ã— ä½Žå“è³ªï¼‰
- **model1 (é’)**: ä¸­é–“ã ãŒä¸€éƒ¨ä½Žå“è³ªã‚µãƒ³ãƒ—ãƒ«ã‚ã‚Š

---

### 6. ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•åˆ†æž: LPIPS vs MS-SSIM
![LPIPS vs MS-SSIM](analysis_output/tradeoff_lpips_vs_msssim.png)

**çŸ¥è¦šå“è³ªï¼ˆLPIPSï¼‰ã¨æ§‹é€ å“è³ªï¼ˆMS-SSIMï¼‰ã®è² ã®ç›¸é–¢**
- ç†æƒ³çš„ãªä½ç½®: å·¦ä¸Šï¼ˆä½ŽLPIPS Ã— é«˜MS-SSIMï¼‰
- model3ã¨model2ã¯è² ã®ç›¸é–¢ã‚’ä¿æŒ
- **model1ã¯ç›¸é–¢ãŒå´©ã‚Œã¦ã„ã‚‹ï¼ˆãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ã®å…†å€™ï¼‰**

---

## è€ƒå¯Ÿ

### åŒ»ç™‚ç”»åƒã¸ã®é©ç”¨ãƒªã‚¹ã‚¯

1. **ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæœ€é‡è¦ï¼‰**
   - model1ã§9%ã®ç¢ºçŽ‡ã§æ¤œå‡º
   - åŒ»ç™‚è¨ºæ–­ã§ã¯ã€Œå­˜åœ¨ã—ãªã„æ§‹é€ ã®è¿½åŠ ã€ã¯è‡´å‘½çš„
   - **ç¾çŠ¶ã§ã¯åŒ»ç™‚ç”»åƒã¸ã®é©ç”¨ã¯æŽ¨å¥¨ã§ããªã„**

2. **ã€ŒãƒŽã‚¤ã‚ºã€ã¨ã€Œå¾®ç´°æ§‹é€ ã€ã®åŒºåˆ¥ä¸å¯**
   - ç¾åœ¨ã®è©•ä¾¡æŒ‡æ¨™ã§ã¯ã€ã€ŒAIãŒè¿½åŠ ã—ãŸãƒŽã‚¤ã‚ºã€ã¨ã€Œå®Ÿéš›ã«å­˜åœ¨ã™ã‚‹å¾®ç´°æ§‹é€ ã€ã‚’åŒºåˆ¥ã§ããªã„
   - model3ã®ã€Œé«˜ãƒŽã‚¤ã‚ºã€ãŒå®Ÿéš›ã«ã¯ã€Œé«˜ç²¾åº¦ãªå¾®ç´°æ§‹é€ å¯è¦–åŒ–ã€ã®å¯èƒ½æ€§ã‚ã‚Š
   - **å°‚é–€åŒ»ã«ã‚ˆã‚‹ç›®è¦–è©•ä¾¡ãŒå¿…é ˆ**

3. **çµ±è¨ˆçš„é™ç•Œ**
   - 100æžšã®ã‚µãƒ³ãƒ—ãƒ«ã¯å‚¾å‘æŠŠæ¡ã«ã¯ååˆ†ã ãŒã€åŒ»ç™‚ç¾å ´ã§ã®å®Ÿç”¨åˆ¤æ–­ã«ã¯ä¸ååˆ†
   - ã‚ˆã‚Šä¿¡é ¼æ€§ã®é«˜ã„è©•ä¾¡ã«ã¯300æžšä»¥ä¸ŠæŽ¨å¥¨

### ãƒ¢ãƒ‡ãƒ«é¸æŠžã®æŒ‡é‡ï¼ˆåŒ»ç™‚ç”»åƒä»¥å¤–ã®ç”¨é€”ï¼‰

| ç”¨é€” | æŽ¨å¥¨ãƒ¢ãƒ‡ãƒ« | ç†ç”± |
|------|-----------|------|
| **å†™çœŸã®é«˜ç”»è³ªåŒ–** | model3 (High Fidelity) | æœ€é«˜PSNRã€æœ€é«˜æ§‹é€ ä¿æŒ |
| **ã‚¤ãƒ©ã‚¹ãƒˆãƒ»ã‚¢ãƒ‹ãƒ¡** | model2 (Digital Art) | å®‰å…¨æ€§æœ€å„ªå…ˆã€ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³0 |
| **æ±Žç”¨ãƒ»ãƒãƒ©ãƒ³ã‚¹é‡è¦–** | model1 (Standard) | å¦¥å”çš„æ€§èƒ½ã€ãŸã ã—ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚¹ã‚¯ã‚ã‚Š |
| **åŒ»ç™‚ç”»åƒ** | **ä½¿ç”¨éžæŽ¨å¥¨** | ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚¹ã‚¯ã€å°‚é–€å®¶è©•ä¾¡å¿…é ˆ |

---

## çµè«–

### ã‚ã‹ã£ãŸã“ã¨

1. **Upscaylã®3ãƒ¢ãƒ‡ãƒ«ã¯æ˜Žç¢ºã«ç•°ãªã‚‹ç‰¹æ€§ã‚’æŒã¤**
   - model3: æœ€é«˜å“è³ªã ãŒã€ŒãƒŽã‚¤ã‚º vs å¾®ç´°æ§‹é€ ã€ã®åˆ¤åˆ¥ä¸å¯
   - model2: æœ€ã‚‚å®‰å…¨ã ãŒä½Žå“è³ª
   - model1: ãƒãƒ©ãƒ³ã‚¹åž‹ã ãŒãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒªã‚¹ã‚¯ã‚ã‚Š

2. **åŒ»ç™‚ç”»åƒã¸ã®é©ç”¨ã¯ç¾çŠ¶ã§ã¯æŽ¨å¥¨ã§ããªã„**
   - 9%ã®ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³æ¤œå‡ºçŽ‡ï¼ˆmodel1ï¼‰
   - å°‚é–€å®¶ã«ã‚ˆã‚‹ç›®è¦–è©•ä¾¡ãªã—ã§ã®ä½¿ç”¨ã¯å±é™º

3. **17ç¨®é¡žã®è©•ä¾¡æŒ‡æ¨™ã¯æœ‰åŠ¹ã ãŒé™ç•Œã‚‚ã‚ã‚‹**
   - æ§‹é€ ãƒ»çŸ¥è¦šãƒ»è‰²ãƒ»ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®å¤šè§’çš„è©•ä¾¡ãŒå¯èƒ½
   - ãŸã ã—ã€ŒãƒŽã‚¤ã‚ºã€ã¨ã€Œå¾®ç´°æ§‹é€ ã€ã®åŒºåˆ¥ã¯ä¸å¯

### ä»Šå¾Œã®èª²é¡Œ

- ã‚µãƒ³ãƒ—ãƒ«æ•°æ‹¡å¤§ï¼ˆ300æžšä»¥ä¸Šï¼‰ã«ã‚ˆã‚‹ä¿¡é ¼æ€§å‘ä¸Š
- å°‚é–€åŒ»ã«ã‚ˆã‚‹ç›®è¦–è©•ä¾¡ã¨ã®ç›¸é–¢åˆ†æž
- ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯ã®æ”¹è‰¯
- ä»–ã®è¶…è§£åƒãƒ„ãƒ¼ãƒ«ï¼ˆReal-ESRGANã€waifu2xç­‰ï¼‰ã¨ã®æ¯”è¼ƒ

---

## æŠ€è¡“çš„è©³ç´°ï¼ˆAppendixï¼‰

### è©•ä¾¡ç’°å¢ƒ
- **OS**: Windows 11 (WSL2 Ubuntu)
- **GPU**: NVIDIA GeForce RTX 4070 Ti SUPER (16GB VRAM)
- **å‡¦ç†æ™‚é–“**: 100æžš Ã— 3ãƒ¢ãƒ‡ãƒ« = 30åˆ†ï¼ˆè©³ç´°ãƒ—ãƒ­ãƒƒãƒˆæœ‰åŠ¹æ™‚ï¼‰
- **ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªž**: Python 3.11
- **ä¸»è¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: OpenCV, scikit-image, PyTorch, Kornia, LPIPS

### GPUæœ€é©åŒ–
ä»¥ä¸‹ã®å‡¦ç†ã‚’GPUã‚¢ã‚¯ã‚»ãƒ©ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆKorniaï¼‰ã§é«˜é€ŸåŒ–ï¼š
- LPIPSï¼ˆçŸ¥è¦šçš„é¡žä¼¼åº¦ï¼‰
- MS-SSIMï¼ˆãƒžãƒ«ãƒã‚¹ã‚±ãƒ¼ãƒ«æ§‹é€ é¡žä¼¼åº¦ï¼‰
- SSIMï¼ˆæ§‹é€ é¡žä¼¼åº¦ï¼‰
- ã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹ï¼ˆLaplacianæ¼”ç®—ï¼‰
- ã‚¨ãƒƒã‚¸æ¤œå‡ºï¼ˆSobelæ¼”ç®—ï¼‰
- è‰²å·®è¨ˆç®—ï¼ˆLABè‰²ç©ºé–“å¤‰æ›ï¼‰

### è©•ä¾¡æŒ‡æ¨™ã®è©³ç´°è¨ˆç®—å¼

#### 1. SSIM (Structural Similarity Index)
```
SSIM(x,y) = [l(x,y)]^Î± Â· [c(x,y)]^Î² Â· [s(x,y)]^Î³
l(x,y) = (2Î¼_x Î¼_y + C1) / (Î¼_xÂ² + Î¼_yÂ² + C1)  # è¼åº¦
c(x,y) = (2Ïƒ_x Ïƒ_y + C2) / (Ïƒ_xÂ² + Ïƒ_yÂ² + C2)  # ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ
s(x,y) = (Ïƒ_xy + C3) / (Ïƒ_x Ïƒ_y + C3)           # æ§‹é€ 
```

#### 2. PSNR (Peak Signal-to-Noise Ratio)
```
MSE = (1/N) Î£(I_orig - I_upscaled)Â²
PSNR = 10 Â· log10(MAXÂ² / MSE)  # MAX=255 for 8-bit images
```

#### 3. LPIPS (Learned Perceptual Image Patch Similarity)
```
LPIPS = Î£_l ||w_l âŠ™ (Ï†_l(x) - Ï†_l(y))||Â²
Ï†_l: VGG/AlexNetã®ç¬¬lå±¤ç‰¹å¾´é‡
w_l: å­¦ç¿’ã•ã‚ŒãŸé‡ã¿
```

#### 4. ã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹ï¼ˆLaplacianåˆ†æ•£ï¼‰
```
Laplacian = [0  1  0]
            [1 -4  1]
            [0  1  0]
Sharpness = Var(Laplacian âŠ— Image)
```

#### 5. ãƒŽã‚¤ã‚ºãƒ¬ãƒ™ãƒ«ï¼ˆå±€æ‰€æ¨™æº–åå·®ï¼‰
```
Noise = (1/N) Î£_i Ïƒ_local(window_i)
window_i: 5Ã—5å±€æ‰€é ˜åŸŸ
```

#### 6. ã‚¨ãƒƒã‚¸å¯†åº¦ï¼ˆSobelæ¼”ç®—ï¼‰
```
G_x = [-1 0 1]    G_y = [-1 -2 -1]
      [-2 0 2]          [ 0  0  0]
      [-1 0 1]          [ 1  2  1]
G = âˆš(G_xÂ² + G_yÂ²)
Edge Density = (G > threshold) / N Ã— 100
```

#### 7. è‰²å·®ï¼ˆÎ”E - CIE76ï¼‰
```
LABå¤‰æ›: RGB â†’ XYZ â†’ LAB
Î”E = âˆš((L1-L2)Â² + (a1-a2)Â² + (b1-b2)Â²)
```

#### 8. ç·åˆã‚¹ã‚³ã‚¢è¨ˆç®—
```
Total Score = w1Â·SSIMÃ—100 + w2Â·MS-SSIMÃ—100 + w3Â·(PSNR/50)Ã—100
            + w4Â·(1-LPIPS)Ã—100 + w5Â·norm(Sharpness)Ã—100
            - penalty(Noise, Artifacts, Î”E)

w1=0.2, w2=0.15, w3=0.15, w4=0.15, w5=0.1
penalty: ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³æ¤œå‡ºæ™‚ã¯-20ç‚¹
```

### ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³æ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯

ä»¥ä¸‹ã®çŸ›ç›¾ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œå‡ºï¼š

```python
# ãƒ‘ã‚¿ãƒ¼ãƒ³1: SSIMé«˜ Ã— PSNRä½Žï¼ˆæ§‹é€ ã¯ä¼¼ã¦ã„ã‚‹ã®ã«ãƒŽã‚¤ã‚ºå¤šã„ï¼‰
if SSIM > 0.97 and PSNR < 25:
    hallucination_risk = True

# ãƒ‘ã‚¿ãƒ¼ãƒ³2: ã‚·ãƒ£ãƒ¼ãƒ—ãƒã‚¹é«˜ Ã— ãƒŽã‚¤ã‚ºé«˜ï¼ˆé®®æ˜Žãªã®ã«ãƒŽã‚¤ã‚ºå¤šã„ï¼‰
if Sharpness > percentile_75 and Noise > percentile_75:
    hallucination_risk = True

# ãƒ‘ã‚¿ãƒ¼ãƒ³3: ã‚¨ãƒƒã‚¸å¯†åº¦ç•°å¸¸ Ã— ä½Žå“è³ª
if Edge_Density > percentile_90 and Local_Quality < percentile_25:
    hallucination_risk = True
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
image_compare/
â”œâ”€â”€ batch_analysis.csv          # å…¨è©•ä¾¡çµæžœï¼ˆ301è¡Œ: ãƒ˜ãƒƒãƒ€ + 100Ã—3ãƒ¢ãƒ‡ãƒ«ï¼‰
â”œâ”€â”€ analysis_output/            # çµ±è¨ˆåˆ†æžãƒ—ãƒ­ãƒƒãƒˆï¼ˆ23ç¨®é¡žï¼‰
â”‚   â”œâ”€â”€ hallucination_ssim_high_psnr_low.png
â”‚   â”œâ”€â”€ strategy_map_sharpness_vs_psnr.png
â”‚   â”œâ”€â”€ pca_2d_projection.png
â”‚   â”œâ”€â”€ medical_noise_vs_local_std.png
â”‚   â”œâ”€â”€ medical_edge_vs_local_quality.png
â”‚   â”œâ”€â”€ tradeoff_lpips_vs_msssim.png
â”‚   â”œâ”€â”€ model_comparison.csv
â”‚   â”œâ”€â”€ recommended_thresholds.json
â”‚   â””â”€â”€ ... (ä»–17ç¨®é¡žã®ãƒ—ãƒ­ãƒƒãƒˆ)
â””â”€â”€ modern_gui.py               # GUIåˆ†æžãƒ„ãƒ¼ãƒ«
```

### æŽ¨å¥¨é–¾å€¤ï¼ˆ100æžšãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ç®—å‡ºï¼‰

```json
{
  "ssim": {
    "excellent": 0.97,
    "good": 0.93,
    "poor": 0.88
  },
  "psnr": {
    "excellent": 38.0,
    "good": 30.0,
    "poor": 25.0
  },
  "lpips": {
    "excellent": 0.10,
    "good": 0.20,
    "poor": 0.30
  },
  "noise": {
    "low": 0.03,
    "medium": 0.05,
    "high": 0.07
  }
}
```

---

## å‚è€ƒæƒ…å ±

### ä½¿ç”¨ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ
- **NIH ChestX-ray14**: https://www.nih.gov/news-events/news-releases/nih-clinical-center-provides-one-largest-publicly-available-chest-x-ray-datasets-scientific-community
- Wang et al. (2017) "ChestX-ray8: Hospital-scale Chest X-ray Database and Benchmarks"

### Upscayl
- å…¬å¼ã‚µã‚¤ãƒˆ: https://upscayl.org/
- GitHub: https://github.com/upscayl/upscayl
- ãƒ©ã‚¤ã‚»ãƒ³ã‚¹: AGPL-3.0ï¼ˆå•†ç”¨åˆ©ç”¨å¯èƒ½ï¼‰

### è©•ä¾¡æ‰‹æ³•ã®å‚è€ƒæ–‡çŒ®
- SSIM: Wang et al. (2004) "Image Quality Assessment: From Error Visibility to Structural Similarity"
- LPIPS: Zhang et al. (2018) "The Unreasonable Effectiveness of Deep Features as a Perceptual Metric"
- MS-SSIM: Wang et al. (2003) "Multi-scale Structural Similarity for Image Quality Assessment"

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´10æœˆ7æ—¥
**ãƒ‡ãƒ¼ã‚¿ä»¶æ•°**: 100æžš Ã— 3ãƒ¢ãƒ‡ãƒ« = 300ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
**å‡¦ç†æ™‚é–“**: 30åˆ†ï¼ˆGPU: RTX 4070 Ti SUPERï¼‰

**ã”æ„è¦‹ãƒ»ã”è³ªå•ã¯X (Twitter) ã¾ãŸã¯Noteã‚³ãƒ¡ãƒ³ãƒˆã§ãŠæ°—è»½ã«ã©ã†ãžï¼**

---

### æ›´æ–°å±¥æ­´

- **2025-10-07**: åˆç‰ˆå…¬é–‹ï¼ˆ100æžšåˆ†æžçµæžœï¼‰
- *ï¼ˆä»Šå¾Œ300æžšä»¥ä¸Šã«æ‹¡å¤§äºˆå®šï¼‰*
